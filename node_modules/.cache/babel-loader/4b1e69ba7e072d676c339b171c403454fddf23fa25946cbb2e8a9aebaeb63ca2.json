{"ast":null,"code":"import _objectSpread from\"/Users/aj.didonato/Desktop/requestr/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RequestForm=_ref=>{let{onSubmit,artistName}=_ref;const[submitting,setSubmitting]=useState(false);const[submitError,setSubmitError]=useState('');const[submitSuccess,setSubmitSuccess]=useState(false);const{register,handleSubmit,formState:{errors},reset}=useForm();const onFormSubmit=async data=>{setSubmitting(true);setSubmitError('');setSubmitSuccess(false);const result=await onSubmit({song_title:data.songTitle,song_artist:data.songArtist,requester_name:data.requesterName,message:data.message||null,tip_amount:data.tipAmount?parseFloat(data.tipAmount):null});if(result.success){setSubmitSuccess(true);reset();// Clear success message after 3 seconds\nsetTimeout(()=>setSubmitSuccess(false),3000);}else{setSubmitError(result.error);}setSubmitting(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Request a Song\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-2 mb-0\",children:[\"Send a request to \",artistName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[submitSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-green-800 mb-0\",children:\"\\u2705 Your request has been submitted successfully!\"})}),submitError&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800 mb-0\",children:[\"\\u274C \",submitError]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onFormSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"songTitle\",className:\"form-label\",children:\"Song Title *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"songTitle\",className:\"form-input \".concat(errors.songTitle?'form-error':''),placeholder:\"Enter song title\"},register('songTitle',{required:'Song title is required',minLength:{value:1,message:'Song title cannot be empty'}}))),errors.songTitle&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.songTitle.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"songArtist\",className:\"form-label\",children:\"Song Artist *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"songArtist\",className:\"form-input \".concat(errors.songArtist?'form-error':''),placeholder:\"Enter artist/band name\"},register('songArtist',{required:'Song artist is required',minLength:{value:1,message:'Song artist cannot be empty'}}))),errors.songArtist&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.songArtist.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"requesterName\",className:\"form-label\",children:\"Your Name *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"requesterName\",className:\"form-input \".concat(errors.requesterName?'form-error':''),placeholder:\"Enter your name\"},register('requesterName',{required:'Your name is required',minLength:{value:1,message:'Name cannot be empty'}}))),errors.requesterName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.requesterName.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"form-label\",children:\"Message (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({id:\"message\",className:\"form-textarea\",placeholder:\"Add a personal message...\",rows:\"3\"},register('message',{maxLength:{value:500,message:'Message cannot exceed 500 characters'}}))),errors.message&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.message.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tipAmount\",className:\"form-label\",children:\"Tip Amount (Optional)\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",id:\"tipAmount\",className:\"form-input \".concat(errors.tipAmount?'form-error':''),placeholder:\"0.00\",step:\"0.01\",min:\"0\"},register('tipAmount',{min:{value:0,message:'Tip amount cannot be negative'}}))),errors.tipAmount&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.tipAmount.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-full\",disabled:submitting,children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading mr-2\"}),\"Submitting...\"]}):'Submit Request'})]})]})]});};export default RequestForm;","map":{"version":3,"names":["React","useState","useForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RequestForm","_ref","onSubmit","artistName","submitting","setSubmitting","submitError","setSubmitError","submitSuccess","setSubmitSuccess","register","handleSubmit","formState","errors","reset","onFormSubmit","data","result","song_title","songTitle","song_artist","songArtist","requester_name","requesterName","message","tip_amount","tipAmount","parseFloat","success","setTimeout","error","className","children","htmlFor","_objectSpread","type","id","concat","placeholder","required","minLength","value","rows","maxLength","step","min","disabled"],"sources":["/Users/aj.didonato/Desktop/requestr/frontend/src/components/UserView/RequestForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\n\nconst RequestForm = ({ onSubmit, artistName }) => {\n  const [submitting, setSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset\n  } = useForm();\n\n  const onFormSubmit = async (data) => {\n    setSubmitting(true);\n    setSubmitError('');\n    setSubmitSuccess(false);\n\n    const result = await onSubmit({\n      song_title: data.songTitle,\n      song_artist: data.songArtist,\n      requester_name: data.requesterName,\n      message: data.message || null,\n      tip_amount: data.tipAmount ? parseFloat(data.tipAmount) : null\n    });\n\n    if (result.success) {\n      setSubmitSuccess(true);\n      reset();\n      // Clear success message after 3 seconds\n      setTimeout(() => setSubmitSuccess(false), 3000);\n    } else {\n      setSubmitError(result.error);\n    }\n\n    setSubmitting(false);\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3 className=\"mb-0\">Request a Song</h3>\n        <p className=\"text-sm text-gray-600 mt-2 mb-0\">\n          Send a request to {artistName}\n        </p>\n      </div>\n\n      <div className=\"card-body\">\n        {submitSuccess && (\n          <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\">\n            <p className=\"text-green-800 mb-0\">\n              ✅ Your request has been submitted successfully!\n            </p>\n          </div>\n        )}\n\n        {submitError && (\n          <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\">\n            <p className=\"text-red-800 mb-0\">\n              ❌ {submitError}\n            </p>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit(onFormSubmit)}>\n          <div className=\"form-group\">\n            <label htmlFor=\"songTitle\" className=\"form-label\">\n              Song Title *\n            </label>\n            <input\n              type=\"text\"\n              id=\"songTitle\"\n              className={`form-input ${errors.songTitle ? 'form-error' : ''}`}\n              placeholder=\"Enter song title\"\n              {...register('songTitle', {\n                required: 'Song title is required',\n                minLength: {\n                  value: 1,\n                  message: 'Song title cannot be empty'\n                }\n              })}\n            />\n            {errors.songTitle && (\n              <div className=\"error-message\">{errors.songTitle.message}</div>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"songArtist\" className=\"form-label\">\n              Song Artist *\n            </label>\n            <input\n              type=\"text\"\n              id=\"songArtist\"\n              className={`form-input ${errors.songArtist ? 'form-error' : ''}`}\n              placeholder=\"Enter artist/band name\"\n              {...register('songArtist', {\n                required: 'Song artist is required',\n                minLength: {\n                  value: 1,\n                  message: 'Song artist cannot be empty'\n                }\n              })}\n            />\n            {errors.songArtist && (\n              <div className=\"error-message\">{errors.songArtist.message}</div>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"requesterName\" className=\"form-label\">\n              Your Name *\n            </label>\n            <input\n              type=\"text\"\n              id=\"requesterName\"\n              className={`form-input ${errors.requesterName ? 'form-error' : ''}`}\n              placeholder=\"Enter your name\"\n              {...register('requesterName', {\n                required: 'Your name is required',\n                minLength: {\n                  value: 1,\n                  message: 'Name cannot be empty'\n                }\n              })}\n            />\n            {errors.requesterName && (\n              <div className=\"error-message\">{errors.requesterName.message}</div>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"message\" className=\"form-label\">\n              Message (Optional)\n            </label>\n            <textarea\n              id=\"message\"\n              className=\"form-textarea\"\n              placeholder=\"Add a personal message...\"\n              rows=\"3\"\n              {...register('message', {\n                maxLength: {\n                  value: 500,\n                  message: 'Message cannot exceed 500 characters'\n                }\n              })}\n            />\n            {errors.message && (\n              <div className=\"error-message\">{errors.message.message}</div>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"tipAmount\" className=\"form-label\">\n              Tip Amount (Optional)\n            </label>\n            <input\n              type=\"number\"\n              id=\"tipAmount\"\n              className={`form-input ${errors.tipAmount ? 'form-error' : ''}`}\n              placeholder=\"0.00\"\n              step=\"0.01\"\n              min=\"0\"\n              {...register('tipAmount', {\n                min: {\n                  value: 0,\n                  message: 'Tip amount cannot be negative'\n                }\n              })}\n            />\n            {errors.tipAmount && (\n              <div className=\"error-message\">{errors.tipAmount.message}</div>\n            )}\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary btn-full\"\n            disabled={submitting}\n          >\n            {submitting ? (\n              <>\n                <span className=\"loading mr-2\"></span>\n                Submitting...\n              </>\n            ) : (\n              'Submit Request'\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}