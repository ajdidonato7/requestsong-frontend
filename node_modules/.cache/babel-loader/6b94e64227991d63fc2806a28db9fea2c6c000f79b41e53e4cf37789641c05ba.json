{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PublicQueue=_ref=>{let{requests,artistName,onRefresh}=_ref;const formatTime=dateString=>{const date=new Date(dateString);return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const formatTip=amount=>{if(!amount)return null;return\"$\".concat(amount.toFixed(2));};const getStatusIcon=status=>{switch(status){case'pending':return'⏳';case'completed':return'✅';case'rejected':return'❌';default:return'⏳';}};const getStatusColor=status=>{switch(status){case'pending':return'text-yellow-600';case'completed':return'text-green-600';case'rejected':return'text-red-600';default:return'text-gray-600';}};const pendingRequests=requests.filter(req=>req.status==='pending');const completedRequests=requests.filter(req=>req.status==='completed');return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Request Queue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1 mb-0\",children:[artistName,\"'s current queue\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onRefresh,className:\"btn btn-sm btn-secondary\",title:\"Refresh queue\",children:\"\\uD83D\\uDD04\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:requests.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No requests yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Be the first to request a song!\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[pendingRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium mb-4 text-gray-800\",children:[\"Up Next (\",pendingRequests.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:pendingRequests.map((request,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center justify-center w-6 h-6 bg-primary-color text-white text-sm font-medium rounded-full mr-3\",children:request.queue_position}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-1\",children:request.song_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"by \",request.song_artist]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(getStatusColor(request.status)),children:getStatusIcon(request.status)}),request.tip_amount&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-600 mt-1\",children:formatTip(request.tip_amount)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Requested by \",request.requester_name]}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(request.created_at)})]}),request.message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-gray-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 mb-0\",children:[\"\\\"\",request.message,\"\\\"\"]})})]},request.id))})]}),completedRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium mb-4 text-gray-800\",children:[\"Recently Played (\",completedRequests.slice(-5).length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:completedRequests.slice(-5).reverse().map(request=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-100 rounded-lg p-3 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-medium text-gray-700 mb-1\",children:request.song_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"by \",request.song_artist,\" \\u2022 \",request.requester_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(getStatusColor(request.status)),children:getStatusIcon(request.status)}),request.tip_amount&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600 mt-1\",children:formatTip(request.tip_amount)})]})]})},request.id))})]})]})})]});};export default PublicQueue;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}