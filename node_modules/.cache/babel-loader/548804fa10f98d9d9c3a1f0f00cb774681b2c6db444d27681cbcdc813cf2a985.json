{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PublicQueue=_ref=>{let{requests,artistName,onRefresh}=_ref;const formatTime=dateString=>{const date=new Date(dateString);return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const formatTip=amount=>{if(!amount)return null;return\"$\".concat(amount.toFixed(2));};const getStatusIcon=status=>{switch(status){case'pending':return'â³';case'completed':return'âœ…';case'rejected':return'âŒ';default:return'â³';}};const getStatusColor=status=>{switch(status){case'pending':return'text-yellow-600';case'completed':return'text-green-600';case'rejected':return'text-red-600';default:return'text-gray-600';}};const pendingRequests=requests.filter(req=>req.status==='pending');const completedRequests=requests.filter(req=>req.status==='completed');return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Request Queue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1 mb-0\",children:[artistName,\"'s current queue\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onRefresh,className:\"btn btn-sm btn-secondary\",title:\"Refresh queue\",children:\"\\uD83D\\uDD04\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:requests.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No requests yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Be the first to request a song!\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[pendingRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium mb-4 text-gray-800\",children:[\"Up Next (\",pendingRequests.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:pendingRequests.map((request,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center justify-center w-6 h-6 bg-primary-color text-white text-sm font-medium rounded-full mr-3\",children:request.queue_position}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-1\",children:request.song_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"by \",request.song_artist]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(getStatusColor(request.status)),children:getStatusIcon(request.status)}),request.tip_amount&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-600 mt-1\",children:formatTip(request.tip_amount)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Requested by \",request.requester_name]}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(request.created_at)})]}),request.message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-gray-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 mb-0\",children:[\"\\\"\",request.message,\"\\\"\"]})})]},request.id))})]}),completedRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium mb-4 text-gray-800\",children:[\"Recently Played (\",completedRequests.slice(-5).length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:completedRequests.slice(-5).reverse().map(request=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-100 rounded-lg p-3 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-medium text-gray-700 mb-1\",children:request.song_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"by \",request.song_artist,\" \\u2022 \",request.requester_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(getStatusColor(request.status)),children:getStatusIcon(request.status)}),request.tip_amount&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600 mt-1\",children:formatTip(request.tip_amount)})]})]})},request.id))})]})]})})]});};export default PublicQueue;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PublicQueue","_ref","requests","artistName","onRefresh","formatTime","dateString","date","Date","toLocaleTimeString","hour","minute","formatTip","amount","concat","toFixed","getStatusIcon","status","getStatusColor","pendingRequests","filter","req","completedRequests","className","children","onClick","title","length","map","request","index","queue_position","song_title","song_artist","tip_amount","requester_name","created_at","message","id","slice","reverse"],"sources":["/Users/aj.didonato/Desktop/requestr/frontend/src/components/UserView/PublicQueue.js"],"sourcesContent":["import React from 'react';\n\nconst PublicQueue = ({ requests, artistName, onRefresh }) => {\n  const formatTime = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const formatTip = (amount) => {\n    if (!amount) return null;\n    return `$${amount.toFixed(2)}`;\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pending':\n        return 'â³';\n      case 'completed':\n        return 'âœ…';\n      case 'rejected':\n        return 'âŒ';\n      default:\n        return 'â³';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending':\n        return 'text-yellow-600';\n      case 'completed':\n        return 'text-green-600';\n      case 'rejected':\n        return 'text-red-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n\n  const pendingRequests = requests.filter(req => req.status === 'pending');\n  const completedRequests = requests.filter(req => req.status === 'completed');\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h3 className=\"mb-0\">Request Queue</h3>\n            <p className=\"text-sm text-gray-600 mt-1 mb-0\">\n              {artistName}'s current queue\n            </p>\n          </div>\n          <button\n            onClick={onRefresh}\n            className=\"btn btn-sm btn-secondary\"\n            title=\"Refresh queue\"\n          >\n            ðŸ”„\n          </button>\n        </div>\n      </div>\n\n      <div className=\"card-body\">\n        {requests.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500 mb-4\">No requests yet</p>\n            <p className=\"text-sm text-gray-400\">\n              Be the first to request a song!\n            </p>\n          </div>\n        ) : (\n          <>\n            {/* Pending Requests */}\n            {pendingRequests.length > 0 && (\n              <div className=\"mb-6\">\n                <h4 className=\"text-lg font-medium mb-4 text-gray-800\">\n                  Up Next ({pendingRequests.length})\n                </h4>\n                <div className=\"space-y-3\">\n                  {pendingRequests.map((request, index) => (\n                    <div\n                      key={request.id}\n                      className=\"border border-gray-200 rounded-lg p-4 bg-white\"\n                    >\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <div className=\"flex items-center\">\n                          <span className=\"inline-flex items-center justify-center w-6 h-6 bg-primary-color text-white text-sm font-medium rounded-full mr-3\">\n                            {request.queue_position}\n                          </span>\n                          <div>\n                            <h5 className=\"font-medium text-gray-900 mb-1\">\n                              {request.song_title}\n                            </h5>\n                            <p className=\"text-sm text-gray-600\">\n                              by {request.song_artist}\n                            </p>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <span className={`text-sm ${getStatusColor(request.status)}`}>\n                            {getStatusIcon(request.status)}\n                          </span>\n                          {request.tip_amount && (\n                            <div className=\"text-sm font-medium text-green-600 mt-1\">\n                              {formatTip(request.tip_amount)}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center justify-between text-sm text-gray-500\">\n                        <span>Requested by {request.requester_name}</span>\n                        <span>{formatTime(request.created_at)}</span>\n                      </div>\n                      \n                      {request.message && (\n                        <div className=\"mt-3 p-3 bg-gray-50 rounded-md\">\n                          <p className=\"text-sm text-gray-700 mb-0\">\n                            \"{request.message}\"\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Recently Completed */}\n            {completedRequests.length > 0 && (\n              <div>\n                <h4 className=\"text-lg font-medium mb-4 text-gray-800\">\n                  Recently Played ({completedRequests.slice(-5).length})\n                </h4>\n                <div className=\"space-y-2\">\n                  {completedRequests.slice(-5).reverse().map((request) => (\n                    <div\n                      key={request.id}\n                      className=\"border border-gray-100 rounded-lg p-3 bg-gray-50\"\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h6 className=\"font-medium text-gray-700 mb-1\">\n                            {request.song_title}\n                          </h6>\n                          <p className=\"text-sm text-gray-500\">\n                            by {request.song_artist} â€¢ {request.requester_name}\n                          </p>\n                        </div>\n                        <div className=\"text-right\">\n                          <span className={`text-sm ${getStatusColor(request.status)}`}>\n                            {getStatusIcon(request.status)}\n                          </span>\n                          {request.tip_amount && (\n                            <div className=\"text-xs text-green-600 mt-1\">\n                              {formatTip(request.tip_amount)}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PublicQueue;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACtD,KAAM,CAAAI,UAAU,CAAIC,UAAU,EAAK,CACjC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACjC,MAAO,CAAAC,IAAI,CAACE,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAC5E,CAAC,CAED,KAAM,CAAAC,SAAS,CAAIC,MAAM,EAAK,CAC5B,GAAI,CAACA,MAAM,CAAE,MAAO,KAAI,CACxB,UAAAC,MAAA,CAAWD,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,EAC9B,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIC,MAAM,EAAK,CAChC,OAAQA,MAAM,EACZ,IAAK,SAAS,CACZ,MAAO,GAAG,CACZ,IAAK,WAAW,CACd,MAAO,GAAG,CACZ,IAAK,UAAU,CACb,MAAO,GAAG,CACZ,QACE,MAAO,GAAG,CACd,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAID,MAAM,EAAK,CACjC,OAAQA,MAAM,EACZ,IAAK,SAAS,CACZ,MAAO,iBAAiB,CAC1B,IAAK,WAAW,CACd,MAAO,gBAAgB,CACzB,IAAK,UAAU,CACb,MAAO,cAAc,CACvB,QACE,MAAO,eAAe,CAC1B,CACF,CAAC,CAED,KAAM,CAAAE,eAAe,CAAGjB,QAAQ,CAACkB,MAAM,CAACC,GAAG,EAAIA,GAAG,CAACJ,MAAM,GAAK,SAAS,CAAC,CACxE,KAAM,CAAAK,iBAAiB,CAAGpB,QAAQ,CAACkB,MAAM,CAACC,GAAG,EAAIA,GAAG,CAACJ,MAAM,GAAK,WAAW,CAAC,CAE5E,mBACEpB,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7B,IAAA,QAAK4B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B3B,KAAA,QAAK0B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAI4B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACvC3B,KAAA,MAAG0B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAC3CrB,UAAU,CAAC,kBACd,EAAG,CAAC,EACD,CAAC,cACNR,IAAA,WACE8B,OAAO,CAAErB,SAAU,CACnBmB,SAAS,CAAC,0BAA0B,CACpCG,KAAK,CAAC,eAAe,CAAAF,QAAA,CACtB,cAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,cAEN7B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBtB,QAAQ,CAACyB,MAAM,GAAK,CAAC,cACpB9B,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7B,IAAA,MAAG4B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACrD7B,IAAA,MAAG4B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iCAErC,CAAG,CAAC,EACD,CAAC,cAEN3B,KAAA,CAAAE,SAAA,EAAAyB,QAAA,EAEGL,eAAe,CAACQ,MAAM,CAAG,CAAC,eACzB9B,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3B,KAAA,OAAI0B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,WAC5C,CAACL,eAAe,CAACQ,MAAM,CAAC,GACnC,EAAI,CAAC,cACLhC,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBL,eAAe,CAACS,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAClCjC,KAAA,QAEE0B,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAE1D3B,KAAA,QAAK0B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD3B,KAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC7B,IAAA,SAAM4B,SAAS,CAAC,mHAAmH,CAAAC,QAAA,CAChIK,OAAO,CAACE,cAAc,CACnB,CAAC,cACPlC,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAI4B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC3CK,OAAO,CAACG,UAAU,CACjB,CAAC,cACLnC,KAAA,MAAG0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,KAChC,CAACK,OAAO,CAACI,WAAW,EACtB,CAAC,EACD,CAAC,EACH,CAAC,cACNpC,KAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB7B,IAAA,SAAM4B,SAAS,YAAAT,MAAA,CAAaI,cAAc,CAACW,OAAO,CAACZ,MAAM,CAAC,CAAG,CAAAO,QAAA,CAC1DR,aAAa,CAACa,OAAO,CAACZ,MAAM,CAAC,CAC1B,CAAC,CACNY,OAAO,CAACK,UAAU,eACjBvC,IAAA,QAAK4B,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACrDZ,SAAS,CAACiB,OAAO,CAACK,UAAU,CAAC,CAC3B,CACN,EACE,CAAC,EACH,CAAC,cAENrC,KAAA,QAAK0B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtE3B,KAAA,SAAA2B,QAAA,EAAM,eAAa,CAACK,OAAO,CAACM,cAAc,EAAO,CAAC,cAClDxC,IAAA,SAAA6B,QAAA,CAAOnB,UAAU,CAACwB,OAAO,CAACO,UAAU,CAAC,CAAO,CAAC,EAC1C,CAAC,CAELP,OAAO,CAACQ,OAAO,eACd1C,IAAA,QAAK4B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7C3B,KAAA,MAAG0B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,IACvC,CAACK,OAAO,CAACQ,OAAO,CAAC,IACpB,EAAG,CAAC,CACD,CACN,GAxCIR,OAAO,CAACS,EAyCV,CACN,CAAC,CACC,CAAC,EACH,CACN,CAGAhB,iBAAiB,CAACK,MAAM,CAAG,CAAC,eAC3B9B,KAAA,QAAA2B,QAAA,eACE3B,KAAA,OAAI0B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,mBACpC,CAACF,iBAAiB,CAACiB,KAAK,CAAC,CAAC,CAAC,CAAC,CAACZ,MAAM,CAAC,GACvD,EAAI,CAAC,cACLhC,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBF,iBAAiB,CAACiB,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACZ,GAAG,CAAEC,OAAO,eACjDlC,IAAA,QAEE4B,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAE5D3B,KAAA,QAAK0B,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAI4B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC3CK,OAAO,CAACG,UAAU,CACjB,CAAC,cACLnC,KAAA,MAAG0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,KAChC,CAACK,OAAO,CAACI,WAAW,CAAC,UAAG,CAACJ,OAAO,CAACM,cAAc,EACjD,CAAC,EACD,CAAC,cACNtC,KAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB7B,IAAA,SAAM4B,SAAS,YAAAT,MAAA,CAAaI,cAAc,CAACW,OAAO,CAACZ,MAAM,CAAC,CAAG,CAAAO,QAAA,CAC1DR,aAAa,CAACa,OAAO,CAACZ,MAAM,CAAC,CAC1B,CAAC,CACNY,OAAO,CAACK,UAAU,eACjBvC,IAAA,QAAK4B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCZ,SAAS,CAACiB,OAAO,CAACK,UAAU,CAAC,CAC3B,CACN,EACE,CAAC,EACH,CAAC,EAtBDL,OAAO,CAACS,EAuBV,CACN,CAAC,CACC,CAAC,EACH,CACN,EACD,CACH,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}