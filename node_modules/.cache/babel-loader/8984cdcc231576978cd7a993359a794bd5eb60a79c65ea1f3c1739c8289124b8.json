{"ast":null,"code":"import _objectSpread from\"/Users/aj.didonato/Desktop/requestr/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RequestForm=_ref=>{let{onSubmit,artistName}=_ref;const[submitting,setSubmitting]=useState(false);const[submitError,setSubmitError]=useState('');const[submitSuccess,setSubmitSuccess]=useState(false);const{register,handleSubmit,formState:{errors},reset}=useForm();const onFormSubmit=async data=>{setSubmitting(true);setSubmitError('');setSubmitSuccess(false);const result=await onSubmit({song_title:data.songTitle,song_artist:data.songArtist,requester_name:data.requesterName,message:data.message||null,tip_amount:data.tipAmount?parseFloat(data.tipAmount):null});if(result.success){setSubmitSuccess(true);reset();// Clear success message after 3 seconds\nsetTimeout(()=>setSubmitSuccess(false),3000);}else{setSubmitError(result.error);}setSubmitting(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Request a Song\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-2 mb-0\",children:[\"Send a request to \",artistName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[submitSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-green-800 mb-0\",children:\"\\u2705 Your request has been submitted successfully!\"})}),submitError&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800 mb-0\",children:[\"\\u274C \",submitError]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onFormSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"songTitle\",className:\"form-label\",children:\"Song Title *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"songTitle\",className:\"form-input \".concat(errors.songTitle?'form-error':''),placeholder:\"Enter song title\"},register('songTitle',{required:'Song title is required',minLength:{value:1,message:'Song title cannot be empty'}}))),errors.songTitle&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.songTitle.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"songArtist\",className:\"form-label\",children:\"Song Artist *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"songArtist\",className:\"form-input \".concat(errors.songArtist?'form-error':''),placeholder:\"Enter artist/band name\"},register('songArtist',{required:'Song artist is required',minLength:{value:1,message:'Song artist cannot be empty'}}))),errors.songArtist&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.songArtist.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"requesterName\",className:\"form-label\",children:\"Your Name *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"requesterName\",className:\"form-input \".concat(errors.requesterName?'form-error':''),placeholder:\"Enter your name\"},register('requesterName',{required:'Your name is required',minLength:{value:1,message:'Name cannot be empty'}}))),errors.requesterName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.requesterName.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"form-label\",children:\"Message (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({id:\"message\",className:\"form-textarea\",placeholder:\"Add a personal message...\",rows:\"3\"},register('message',{maxLength:{value:500,message:'Message cannot exceed 500 characters'}}))),errors.message&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.message.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tipAmount\",className:\"form-label\",children:\"Tip Amount (Optional)\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",id:\"tipAmount\",className:\"form-input \".concat(errors.tipAmount?'form-error':''),placeholder:\"0.00\",step:\"0.01\",min:\"0\"},register('tipAmount',{min:{value:0,message:'Tip amount cannot be negative'}}))),errors.tipAmount&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.tipAmount.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-full\",disabled:submitting,children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading mr-2\"}),\"Submitting...\"]}):'Submit Request'})]})]})]});};export default RequestForm;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}