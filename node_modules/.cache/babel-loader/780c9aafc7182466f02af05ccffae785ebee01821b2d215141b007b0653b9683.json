{"ast":null,"code":"import _objectSpread from\"/Users/aj.didonato/Desktop/requestr/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useForm}from'react-hook-form';import{useAuth}from'../../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ArtistRegister=()=>{const[registerError,setRegisterError]=useState('');const[isLoading,setIsLoading]=useState(false);const[registerSuccess,setRegisterSuccess]=useState(false);const{register:registerUser,isAuthenticated}=useAuth();const navigate=useNavigate();const{register,handleSubmit,formState:{errors},watch}=useForm();const password=watch('password');// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated()){navigate('/artist/dashboard');}},[isAuthenticated,navigate]);const onSubmit=async data=>{setIsLoading(true);setRegisterError('');const result=await registerUser({username:data.username,display_name:data.displayName,email:data.email,password:data.password,bio:data.bio||null});if(result.success){setRegisterSuccess(true);setTimeout(()=>{navigate('/artist/login');},2000);}else{setRegisterError(result.error);}setIsLoading(false);};if(registerSuccess){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"safe-area-top\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto mt-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-green-600 mb-4\",children:\"Registration Successful!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Your artist account has been created successfully.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Redirecting to login page...\"})]})})})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{paddingBottom:'20px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"safe-area-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFA4 Artist Registration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Create your account to start receiving song requests\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[registerError&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800 mb-0\",children:[\"\\u274C \",registerError]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"username\",className:\"form-input \".concat(errors.username?'form-error':''),placeholder:\"Choose a unique username\"},register('username',{required:'Username is required',minLength:{value:3,message:'Username must be at least 3 characters'},maxLength:{value:30,message:'Username cannot exceed 30 characters'},pattern:{value:/^[a-zA-Z0-9_-]+$/,message:'Username can only contain letters, numbers, hyphens, and underscores'}}))),errors.username&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.username.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"This will be your public artist handle\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"displayName\",className:\"form-label\",children:\"Display Name *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"displayName\",className:\"form-input \".concat(errors.displayName?'form-error':''),placeholder:\"Your stage name or real name\"},register('displayName',{required:'Display name is required',minLength:{value:1,message:'Display name cannot be empty'},maxLength:{value:100,message:'Display name cannot exceed 100 characters'}}))),errors.displayName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.displayName.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",id:\"email\",className:\"form-input \".concat(errors.email?'form-error':''),placeholder:\"your@email.com\"},register('email',{required:'Email is required',pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:'Please enter a valid email address'}}))),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",id:\"password\",className:\"form-input \".concat(errors.password?'form-error':''),placeholder:\"Create a secure password\"},register('password',{required:'Password is required',minLength:{value:6,message:'Password must be at least 6 characters'}}))),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.password.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:\"Confirm Password *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",id:\"confirmPassword\",className:\"form-input \".concat(errors.confirmPassword?'form-error':''),placeholder:\"Confirm your password\"},register('confirmPassword',{required:'Please confirm your password',validate:value=>value===password||'Passwords do not match'}))),errors.confirmPassword&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.confirmPassword.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bio\",className:\"form-label\",children:\"Bio (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({id:\"bio\",className:\"form-textarea \".concat(errors.bio?'form-error':''),placeholder:\"Tell people about your music...\",rows:\"3\"},register('bio',{maxLength:{value:500,message:'Bio cannot exceed 500 characters'}}))),errors.bio&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.bio.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-full\",disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading mr-2\"}),\"Creating Account...\"]}):'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/artist/login\",className:\"text-primary-color font-medium hover:underline\",children:\"Sign in here\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-sm text-gray-500 hover:text-gray-700\",children:\"\\u2190 Back to song requests\"})})]})})});};export default ArtistRegister;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}